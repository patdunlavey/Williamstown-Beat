--- og_user_roles.pages_85.inc	2009-07-28 16:45:20.000000000 -0400
+++ og_user_roles.pages.inc	2009-07-28 15:45:22.000000000 -0400
@@ -52,19 +52,21 @@
     '#description' => t('Select a role to automatically assign to users who join a group.'),
     '#collapsible' => TRUE,
   );
-  $form['og_user_roles_defaults']['og_user_roles_default_admin_role'] = array(
-    '#type' => 'select',
-    '#title' => t('Default role for new group administrators'),
-    '#options' => array(0 => t('None')) + $roles,
-    '#default_value' => variable_get('og_user_roles_default_admin_role', 0),
-    '#description' => t('This role can only be unassigned by removing a user from the administrators of a group.'),
-  );
-  $form['og_user_roles_defaults']['og_user_roles_default_role'] = array(
-    '#type' => 'select',
-    '#title' => t('Default role for new group members'),
-    '#options' => array(0 => t('None')) + $roles,
-    '#default_value' => variable_get('og_user_roles_default_role', 0),
-  );
+  foreach ($types as $type => $name) {
+      $form['og_user_roles_defaults']["og_user_roles_default_admin_role_$type"] = array(
+	 '#type' => 'select',
+	 '#title' => t("Default role for new $type administrators"),
+	 '#options' => array(0 => t('None')) + $roles,
+	 '#default_value' => variable_get("og_user_roles_default_admin_role_$type", 0),
+	 '#description' => t('This role can only be unassigned by removing a user from the administrators of a group.'),
+      );
+      $form['og_user_roles_defaults']["og_user_roles_default_role_$type"] = array(
+	 '#type' => 'select',
+	 '#title' => t("Default role for new $type members"),
+	 '#options' => array(0 => t('None')) + $roles,
+	 '#default_value' => variable_get("og_user_roles_default_role_$type", 0),
+      );
+  }
 
   return system_settings_form($form);
 }
